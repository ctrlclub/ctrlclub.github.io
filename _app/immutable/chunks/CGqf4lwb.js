import{aP as J,d as W,t as q,a5 as X,T as Z,aQ as M,J as F,j as _,h as p,u as z,G as w,b as K,a as tt,C as H,H as et,l as d,aR as A,w as k,aS as R,aT as b,aU as P,aV as st,P as O,Q as $,aW as it,x as D,s as S,aH as rt,f as nt,aX as V,aY as at,a2 as lt,aZ as ht,a_ as ot,A as j,a$ as ut,a1 as ft,aO as ct,b0 as dt,p as _t,b1 as L,g as pt,b2 as gt,b3 as x,i as m,b4 as vt,D as yt,o as bt,b5 as Et,c as wt,aA as Tt,a0 as mt,k as Rt,b6 as St,aC as Nt}from"./Cdt7Vh5C.js";function At(e){let t=0,i=q(0),r;return()=>{J()&&(W(i),X(()=>(t===0&&(r=Z(()=>e(()=>M(i)))),t+=1,()=>{F(()=>{t-=1,t===0&&(r?.(),r=void 0,M(i))})})))}}var kt=lt|ht|ot;function Dt(e,t,i){new Ot(e,t,i)}class Ot{parent;#i=!1;#e;#p=p?_:null;#r;#u;#n;#s=null;#t=null;#a=null;#l=null;#f=0;#h=0;#c=!1;#o=null;#v=()=>{this.#o&&z(this.#o,this.#f)};#y=At(()=>(this.#o=q(this.#f),()=>{this.#o=null}));constructor(t,i,r){this.#e=t,this.#r=i,this.#u=r,this.parent=w.b,this.#i=!!this.#r.pending,this.#n=K(()=>{if(w.b=this,p){const n=this.#p;tt(),n.nodeType===H&&n.data===et?this.#E():this.#b()}else{try{this.#s=d(()=>r(this.#e))}catch(n){this.error(n)}this.#h>0?this.#_():this.#i=!1}},kt),p&&(this.#e=_)}#b(){try{this.#s=d(()=>this.#u(this.#e))}catch(t){this.error(t)}this.#i=!1}#E(){const t=this.#r.pending;t&&(this.#t=d(()=>t(this.#e)),A.enqueue(()=>{this.#s=this.#d(()=>(A.ensure(),d(()=>this.#u(this.#e)))),this.#h>0?this.#_():(k(this.#t,()=>{this.#t=null}),this.#i=!1)}))}is_pending(){return this.#i||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#d(t){var i=w,r=O,n=$;R(this.#n),b(this.#n),P(this.#n.ctx);try{return t()}catch(s){return st(s),null}finally{R(i),b(r),P(n)}}#_(){const t=this.#r.pending;this.#s!==null&&(this.#l=document.createDocumentFragment(),Lt(this.#s,this.#l)),this.#t===null&&(this.#t=d(()=>t(this.#e)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#h+=t,this.#h===0&&(this.#i=!1,this.#t&&k(this.#t,()=>{this.#t=null}),this.#l&&(this.#e.before(this.#l),this.#l=null))}update_pending_count(t){this.#g(t),this.#f+=t,it.add(this.#v)}get_effect_pending(){return this.#y(),W(this.#o)}error(t){var i=this.#r.onerror;let r=this.#r.failed;if(this.#c||!i&&!r)throw t;this.#s&&(D(this.#s),this.#s=null),this.#t&&(D(this.#t),this.#t=null),this.#a&&(D(this.#a),this.#a=null),p&&(S(this.#p),rt(),S(nt()));var n=!1,s=!1;const a=()=>{if(n){ut();return}n=!0,s&&at(),A.ensure(),this.#f=0,this.#a!==null&&k(this.#a,()=>{this.#a=null}),this.#i=this.has_pending_snippet(),this.#s=this.#d(()=>(this.#c=!1,d(()=>this.#u(this.#e)))),this.#h>0?this.#_():this.#i=!1};var u=O;try{b(null),s=!0,i?.(t,a),s=!1}catch(o){V(o,this.#n&&this.#n.parent)}finally{b(u)}r&&F(()=>{this.#a=this.#d(()=>{this.#c=!0;try{return d(()=>{r(this.#e,()=>t,()=>a)})}catch(o){return V(o,this.#n.parent),null}finally{this.#c=!1}})})}}function Lt(e,t){for(var i=e.nodes_start,r=e.nodes_end;i!==null;){var n=i===r?null:j(i);t.append(i),i=n}}const xt=["touchstart","touchmove"];function Ct(e){return xt.includes(e)}const Ft=new Set,Y=new Set;function Ht(e,t,i,r={}){function n(s){if(r.capture||E.call(t,s),!s.cancelBubble)return ct(()=>i?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?F(()=>{t.addEventListener(e,n,r)}):t.addEventListener(e,n,r),n}function Vt(e,t,i,r,n){var s={capture:r,passive:n},a=Ht(e,t,i,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ft(()=>{t.removeEventListener(e,a,s)})}let B=null;function E(e){var t=this,i=t.ownerDocument,r=e.type,n=e.composedPath?.()||[],s=n[0]||e.target;B=e;var a=0,u=B===e&&e.__root;if(u){var o=n.indexOf(u);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var g=n.indexOf(t);if(g===-1)return;o<=g&&(a=o)}if(s=n[a]||e.target,s!==t){dt(e,"currentTarget",{configurable:!0,get(){return s||i}});var N=O,f=w;b(null),R(null);try{for(var l,h=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var c=s["__"+r];if(c!=null&&(!s.disabled||e.target===s))if(_t(c)){var[U,...G]=c;U.apply(s,[e,...G])}else c.call(s,e)}catch(T){l?h.push(T):l=T}if(e.cancelBubble||v===t||v===null)break;s=v}if(l){for(let T of h)queueMicrotask(()=>{throw T});throw l}}finally{e.__root=t,delete e.currentTarget,b(N),R(f)}}}let I=!0;function Yt(e,t){var i=t==null?"":typeof t=="object"?t+"":t;i!==(e.__t??=e.nodeValue)&&(e.__t=i,e.nodeValue=i+"")}function Mt(e,t){return Q(e,t)}function Bt(e,t){L(),t.intro=t.intro??!1;const i=t.target,r=p,n=_;try{for(var s=pt(i);s&&(s.nodeType!==H||s.data!==gt);)s=j(s);if(!s)throw x;m(!0),S(s);const a=Q(e,{...t,anchor:s});return m(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw a;return a!==x&&console.warn("Failed to hydrate: ",a),t.recover===!1&&vt(),L(),yt(i),m(!1),Mt(e,t)}finally{m(r),S(n)}}const y=new Map;function Q(e,{target:t,anchor:i,props:r={},events:n,context:s,intro:a=!0}){L();var u=new Set,o=f=>{for(var l=0;l<f.length;l++){var h=f[l];if(!u.has(h)){u.add(h);var v=Ct(h);t.addEventListener(h,E,{passive:v});var c=y.get(h);c===void 0?(document.addEventListener(h,E,{passive:v}),y.set(h,1)):y.set(h,c+1)}}};o(bt(Ft)),Y.add(o);var g=void 0,N=Et(()=>{var f=i??t.appendChild(wt());return Dt(f,{pending:()=>{}},l=>{if(s){Tt({});var h=$;h.c=s}if(n&&(r.$$events=n),p&&mt(l,null),I=a,g=e(l,r)||{},I=!0,p&&(w.nodes_end=_,_===null||_.nodeType!==H||_.data!==Rt))throw St(),x;s&&Nt()}),()=>{for(var l of u){t.removeEventListener(l,E);var h=y.get(l);--h===0?(document.removeEventListener(l,E),y.delete(l)):y.set(l,h)}Y.delete(o),f!==i&&f.parentNode?.removeChild(f)}});return C.set(g,N),g}let C=new WeakMap;function It(e,t){const i=C.get(e);return i?(C.delete(e),i(t)):Promise.resolve()}export{I as a,Vt as e,Bt as h,Mt as m,Yt as s,It as u};
