import{A as p}from"../chunks/YeyiDlbR.js";import"../chunks/DsnmJJEf.js";import{aA as h,aD as f,af as c,aC as R,aF as i,aG as d,ad as y,ae as b,aI as j}from"../chunks/Cdt7Vh5C.js";import{s as x}from"../chunks/CGqf4lwb.js";import{i as l}from"../chunks/TKTXOwgQ.js";import{g as A}from"../chunks/DLD_K23d.js";const I=!1;async function S(){try{let e=await(await fetch(`${p}/auth/testsession`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();return e.success?{success:!0,redirect:e.data.isLoggedIn?"/challenges":"/login",errorReason:""}:{success:!1,redirect:"",errorReason:"Server error: "+e.errorReason}}catch(a){return{success:!1,redirect:"",errorReason:"Failed to contact server: "+a}}}const k=Object.freeze(Object.defineProperty({__proto__:null,load:S,ssr:I},Symbol.toStringTag,{value:"Module"}));var T=f("<a> </a>"),w=f('<div class="svelte-1uha8ag"><!></div>');function z(a,e){h(e,!0),e.data.success&&A(e.data.redirect);var r=w(),u=i(r);{var m=t=>{var n=y(),v=b(n);{var _=s=>{var o=T(),g=i(o,!0);d(o),j(()=>x(g,e.data.errorReason)),c(s,o)};l(v,s=>{e.data.success||s(_)})}c(t,n)};l(u,t=>{e.data&&t(m)})}d(r),c(a,r),R()}export{z as component,k as universal};
